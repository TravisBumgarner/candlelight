[gd_scene load_steps=3 format=3 uid="uid://crjs408ja0o1h"]

[ext_resource type="Theme" uid="uid://ckiied77ueyj" path="res://candlelight_theme.tres" id="2_jq8k0"]

[sub_resource type="GDScript" id="GDScript_lqh5n"]
script/source = "extends Control

const main_menu = preload(\"res://MainMenu/main_menu.tscn\")
@onready var resume_button = $\"PanelContainer/VBoxContainer/ResumeButton\"

func resume():
	hide()
	get_tree().paused = false
	
func pause():
	get_tree().paused = true

func cleanup():
	get_tree().paused = false
	get_tree().change_scene_to_packed(main_menu)

func _on_resume_button_pressed():
	resume()

func _on_main_menu_button_pressed():
	cleanup()

func _on_visibility_changed():
	if is_visible_in_tree():
		get_tree().paused = true
		resume_button.grab_focus()
"

[node name="PauseMenu" type="Control"]
layout_mode = 3
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
grow_horizontal = 2
grow_vertical = 2
script = SubResource("GDScript_lqh5n")

[node name="ColorRect" type="ColorRect" parent="."]
modulate = Color(0.0470588, 0.0901961, 0.0196078, 0.580392)
layout_mode = 0
offset_left = -576.0
offset_top = -324.0
offset_right = 576.0
offset_bottom = 324.0

[node name="PanelContainer" type="PanelContainer" parent="."]
process_mode = 3
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -50.0
offset_top = -31.0
offset_right = 50.0
offset_bottom = 31.0
grow_horizontal = 2
grow_vertical = 2

[node name="VBoxContainer" type="VBoxContainer" parent="PanelContainer"]
layout_mode = 2
theme_override_constants/separation = 20

[node name="ResumeButton" type="Button" parent="PanelContainer/VBoxContainer"]
layout_mode = 2
focus_neighbor_top = NodePath("../MainMenuButton")
theme = ExtResource("2_jq8k0")
text = "Resume"

[node name="MainMenuButton" type="Button" parent="PanelContainer/VBoxContainer"]
layout_mode = 2
focus_neighbor_bottom = NodePath("../ResumeButton")
theme = ExtResource("2_jq8k0")
text = "Main Menu"

[connection signal="visibility_changed" from="." to="." method="_on_visibility_changed"]
[connection signal="pressed" from="PanelContainer/VBoxContainer/ResumeButton" to="." method="_on_resume_button_pressed"]
[connection signal="pressed" from="PanelContainer/VBoxContainer/MainMenuButton" to="." method="_on_main_menu_button_pressed"]
